<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><meta charset="UTF-8"><title>Board</title></head>
<body>
<h1>Board</h1>
<a href="/board/new">글쓰기</a>

<table id="tbl" border="1">
    <thead>
    <tr><th>ID</th><th>Title</th><th>File</th></tr>
    </thead>
    <tbody></tbody>
</table>

<script>
    async function load() {
        const res = await fetch('/api/list');
        const list = await res.json();          // [{id, title, originalName, …}, …]
        const tbody = document.querySelector('#tbl tbody');
        tbody.innerHTML = '';                   // 초기화
        list.forEach(b => {
            const tr = document.createElement('tr');
            tr.innerHTML = `
      <td>${b.id}</td>
      <td>${b.title}</td>
      <td>${b.originalName ? `<a href="/board/file/${b.id}">${b.originalName}</a>` : ''}</td>`;
            tbody.appendChild(tr);
        });
    }
    load();
</script>
</body>
</html>
